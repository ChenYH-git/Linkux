{
    "swagger": "2.0",
    "info": {
        "description": "软工合作 alpha 冲刺版",
        "title": "2021 秋软工团队合作项目",
        "termsOfService": "http://swagger.io/terms/",
        "contact": {
            "name": "FZU UNDEFINED 小组",
            "url": "https://blog.csdn.net/codingyuhan",
            "email": "2135378647@qq.com"
        },
        "license": {
            "name": "Apache 2.0",
            "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
        },
        "version": "1.0"
    },
    "host": "localhost:8080",
    "paths": {
        "/collect": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "加入收藏",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "用户相关接口"
                ],
                "summary": "加入收藏接口",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "帖子id参数",
                        "name": "object",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.Trigger"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/controllers._ResponseMsg"
                        }
                    }
                }
            }
        },
        "/collect/delete": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "取消收藏",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "用户相关接口"
                ],
                "summary": "取消收藏接口",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "帖子id参数",
                        "name": "object",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.Trigger"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/controllers._ResponseMsg"
                        }
                    }
                }
            }
        },
        "/collect/get": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "获取收藏列表",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "用户相关接口"
                ],
                "summary": "获取收藏列表接口",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "帖子社区标签id，可以为空",
                        "name": "label_id",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "example": "score",
                        "description": "排序方式，可以为空，默认为score，可以为time",
                        "name": "order",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "分页信息，可以为空，默认从1开始",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "搜索内容，可以为空，搜索时必填",
                        "name": "search",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "分页大小，可以为空，默认大小10",
                        "name": "size",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "帖子对应的翻译任务帖id，可以为空，查看已有翻译时必须保证不为0",
                        "name": "trans_id",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/controllers._ResponsePostList"
                        }
                    }
                }
            }
        },
        "/contribution": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "获取`我的贡献`",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "用户相关接口"
                ],
                "summary": "获取`我的贡献`接口",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/controllers._ResponsePostList"
                        }
                    }
                }
            }
        },
        "/follow": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "关注作者",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "用户相关接口"
                ],
                "summary": "关注作者接口",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "作者id参数",
                        "name": "object",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.Follow"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/controllers._ResponseMsg"
                        }
                    }
                }
            }
        },
        "/follow/cancel": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "取消关注作者",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "用户相关接口"
                ],
                "summary": "取消关注作者接口",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "作者id参数",
                        "name": "object",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.Follow"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/controllers._ResponseMsg"
                        }
                    }
                }
            }
        },
        "/follow/get/follow": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "获取关注作者",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "用户相关接口"
                ],
                "summary": "获取关注作者接口",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/controllers._ResponseFollowList"
                        }
                    }
                }
            }
        },
        "/follow/get/followed": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "获取粉丝",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "用户相关接口"
                ],
                "summary": "获取粉丝接口",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/controllers._ResponseFollowList"
                        }
                    }
                }
            }
        },
        "/follow/get/post": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "获取关注帖子",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "用户相关接口"
                ],
                "summary": "获取关注帖子接口",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "帖子社区标签id，可以为空",
                        "name": "label_id",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "example": "score",
                        "description": "排序方式，可以为空，默认为score，可以为time",
                        "name": "order",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "分页信息，可以为空，默认从1开始",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "搜索内容，可以为空，搜索时必填",
                        "name": "search",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "分页大小，可以为空，默认大小10",
                        "name": "size",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "帖子对应的翻译任务帖id，可以为空，查看已有翻译时必须保证不为0",
                        "name": "trans_id",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/controllers._ResponsePostList"
                        }
                    }
                }
            }
        },
        "/index": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "可按社区标签以时间或分数排序查询帖子列表接口",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "帖子相关接口"
                ],
                "summary": "热搜帖子列表接口",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "帖子社区标签id，可以为空",
                        "name": "label_id",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "example": "score",
                        "description": "排序方式，可以为空，默认为score，可以为time",
                        "name": "order",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "分页信息，可以为空，默认从1开始",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "搜索内容，可以为空，搜索时必填",
                        "name": "search",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "分页大小，可以为空，默认大小10",
                        "name": "size",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "帖子对应的翻译任务帖id，可以为空，查看已有翻译时必须保证不为0",
                        "name": "trans_id",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/controllers._ResponsePostList"
                        }
                    }
                }
            }
        },
        "/login": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "微信一键登录后端接口",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "用户相关接口"
                ],
                "summary": "用户登录接口",
                "parameters": [
                    {
                        "description": "用户具体参数",
                        "name": "object",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.User"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/controllers._ResponseMsg"
                        }
                    }
                }
            }
        },
        "/post": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "根据输入的数据上传帖子",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "帖子相关接口"
                ],
                "summary": "创建帖子接口",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "帖子具体参数",
                        "name": "object",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.Post"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/controllers._ResponseUsr"
                        }
                    }
                }
            }
        },
        "/rank": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "返回排行榜数据",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "排行榜相关接口"
                ],
                "summary": "排行榜接口",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/controllers._RankResponseMsg"
                        }
                    }
                }
            }
        },
        "/search": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "按输入内容检索帖子",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "帖子相关接口"
                ],
                "summary": "帖子搜索接口",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "帖子社区标签id，可以为空",
                        "name": "label_id",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "example": "score",
                        "description": "排序方式，可以为空，默认为score，可以为time",
                        "name": "order",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "分页信息，可以为空，默认从1开始",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "搜索内容，可以为空，搜索时必填",
                        "name": "search",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "分页大小，可以为空，默认大小10",
                        "name": "size",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "帖子对应的翻译任务帖id，可以为空，查看已有翻译时必须保证不为0",
                        "name": "trans_id",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/controllers._ResponsePostList"
                        }
                    }
                }
            }
        },
        "/trans": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "按输入内容创建翻译任务",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "翻译相关接口"
                ],
                "summary": "创建翻译任务接口",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "创建翻译任务参数",
                        "name": "object",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.Trans"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/controllers._ResponseMsg"
                        }
                    }
                }
            }
        },
        "/trans/get/exist": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "获取翻译任务对应的当前翻译文章",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "翻译相关接口"
                ],
                "summary": "获取翻译任务对应的当前翻译文章接口",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "帖子社区标签id，可以为空",
                        "name": "label_id",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "example": "score",
                        "description": "排序方式，可以为空，默认为score，可以为time",
                        "name": "order",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "分页信息，可以为空，默认从1开始",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "搜索内容，可以为空，搜索时必填",
                        "name": "search",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "分页大小，可以为空，默认大小10",
                        "name": "size",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "帖子对应的翻译任务帖id，可以为空，查看已有翻译时必须保证不为0",
                        "name": "trans_id",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/controllers._ResponsePostList"
                        }
                    }
                }
            }
        },
        "/trans/get/task": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "获取翻译任务",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "翻译相关接口"
                ],
                "summary": "获取翻译任务接口",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/controllers._ResponseTransList"
                        }
                    }
                }
            }
        },
        "/view/add": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "观看量+1",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "用户相关接口"
                ],
                "summary": "观看量+1接口",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "帖子id参数",
                        "name": "object",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.Trigger"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/controllers._ResponseMsg"
                        }
                    }
                }
            }
        },
        "/vote": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "根据帖子id和投票信息进行点赞、踩",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "帖子相关接口"
                ],
                "summary": "点赞投票接口",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer 用户令牌",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "翻译任务id参数",
                        "name": "object",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/models.ParamVoteData"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/controllers._ResponseMsg"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "controllers._RankResponseMsg": {
            "type": "object"
        },
        "controllers._ResponseFollowList": {
            "type": "object"
        },
        "controllers._ResponseMsg": {
            "type": "object"
        },
        "controllers._ResponsePostList": {
            "type": "object"
        },
        "controllers._ResponseTransList": {
            "type": "object"
        },
        "controllers._ResponseUsr": {
            "type": "object"
        },
        "models.Follow": {
            "type": "object",
            "properties": {
                "follow_id": {
                    "description": "关注的作者id",
                    "type": "string"
                },
                "followed_id": {
                    "description": "粉丝id",
                    "type": "string"
                }
            }
        },
        "models.ParamVoteData": {
            "type": "object",
            "required": [
                "post_id"
            ],
            "properties": {
                "direction": {
                    "description": "赞同（1） 反对（-1） 取消（0）(required在默认为0时，会主动过滤）",
                    "type": "string",
                    "example": "1"
                },
                "post_id": {
                    "description": "帖子id",
                    "type": "string",
                    "example": "0"
                }
            }
        },
        "models.Post": {
            "type": "object",
            "required": [
                "content",
                "label_id",
                "title"
            ],
            "properties": {
                "author_id": {
                    "description": "作者id，无需填入",
                    "type": "string"
                },
                "collect_num": {
                    "description": "收藏量，无需填入",
                    "type": "integer"
                },
                "content": {
                    "description": "内容，必填",
                    "type": "string"
                },
                "create_time": {
                    "description": "创建时间，无需填入",
                    "type": "string"
                },
                "label_id": {
                    "description": "社区标签id，必填",
                    "type": "integer"
                },
                "post_id": {
                    "description": "帖子id，由后端生成，无需填入",
                    "type": "string",
                    "example": "0"
                },
                "status": {
                    "description": "帖子状态，管理审核时使用，无需填入",
                    "type": "integer"
                },
                "title": {
                    "description": "标题，必填",
                    "type": "string"
                },
                "trans_id": {
                    "description": "翻译任务id，不为0说明帖子是翻译帖，对应某个翻译任务，按情况填入",
                    "type": "string",
                    "example": "0"
                },
                "viewd_num": {
                    "description": "观看量，无需填入",
                    "type": "integer"
                }
            }
        },
        "models.Trans": {
            "type": "object",
            "required": [
                "content",
                "title"
            ],
            "properties": {
                "content": {
                    "description": "内容，必填",
                    "type": "string"
                },
                "create_time": {
                    "description": "创建时间，不用填",
                    "type": "string"
                },
                "status": {
                    "description": "任务帖状态，审核用",
                    "type": "integer"
                },
                "title": {
                    "description": "标题，必填",
                    "type": "string"
                },
                "trans_id": {
                    "description": "翻译任务id，不用填",
                    "type": "string",
                    "example": "0"
                }
            }
        },
        "models.Trigger": {
            "type": "object",
            "properties": {
                "post_id": {
                    "description": "对应帖子id",
                    "type": "integer"
                }
            }
        },
        "models.User": {
            "type": "object",
            "properties": {
                "code": {
                    "description": "微信返回的 code",
                    "type": "string"
                },
                "contribution": {
                    "description": "用户贡献度",
                    "type": "integer"
                },
                "pic_link": {
                    "description": "头像链接",
                    "type": "string"
                },
                "token": {
                    "description": "后端返回的用户 token",
                    "type": "string"
                },
                "userID": {
                    "description": "用户id",
                    "type": "string"
                },
                "username": {
                    "description": "用户名",
                    "type": "string"
                }
            }
        }
    }
}